$(function(){$.fn.extend({modalInit:function(f){var b={};$.extend(b,{modalContainer:"#modal-container",cancelBtn:"#modal-cancel",confirmBtn:"#modal-confirm"},f);return $(this).each(function(f,k){function c(){var a=this;a.bindOpen=function(){l.bind("click",function(){g.modal();d&&"function"==typeof d&&d();a.bindConfirm()});return a};a.bindConfirm=function(){h.bind("click",function(){a.unbindTrig();e&&"function"==typeof e&&e()});g.click(function(){a.unbindTrig()});m.click(function(){a.unbindTrig()})};
a.unbindTrig=function(){h.unbind("click")};a.init=function(){a.bindOpen()}}var l=$(this),g=$(b.modalContainer),h=$(b.confirmBtn),m=$(b.cancelBtn),e=b.confirmCallback,d=b.openCallback,c=new c;$(k).data("modalInit",c);c.init()})}})});